
# Домашнее задание к занятию «Микросервисы: принципы»

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

Решение.

### Варианты API Gateway:
1. **Kong**
2. **NGINX**
3. **Traefik**
4. **HAProxy**
5. **AWS API Gateway**

### Сравнительная таблица:

![screenshot-1](https://github.com/zitrax1/devops-netology/blob/main/microtransactions/img/HW_1_1.jpg)

### Рекомендованное решение: **Kong**

**Обоснование выбора:**
1. **Маршрутизация запросов** — Kong поддерживает продвинутую маршрутизацию по различным критериям, включая заголовки, хосты и методы.
2. **Проверка аутентификации** — за счет большого количества плагинов, Kong легко интегрируется с OAuth2, JWT и другими популярными стандартами.
3. **Терминация HTTPS** — встроенная поддержка TLS/SSL, что полностью закрывает требование терминации HTTPS.
4. **Масштабируемость и микросервисы** — отличная поддержка Kubernetes и масштабируемость, особенно важные для работы с микросервисной архитектурой.
5. **Интеграция с облаком** — Kong может быть легко интегрирован с облачными провайдерами (AWS, GCP, Azure) и поддерживает гибкие конфигурации.
6. **Стоимость** — есть бесплатная версия с достаточным количеством возможностей для большинства проектов, при необходимости можно перейти на коммерческую версию.


## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

Решение.

### Сравнительная таблица:

![screenshot-1](https://github.com/zitrax1/devops-netology/blob/main/microtransactions/img/HW_1_2.jpg)

### Обоснованный выбор: **Apache Kafka**

1. **Поддержка кластеризации** — Kafka обеспечивает нативную поддержку распределённых кластеров, что позволяет обрабатывать большие объёмы данных с высокой надёжностью.
2. **Хранение сообщений на диске** — Kafka использует персистентный лог сообщений, обеспечивая надёжное хранение всех событий до их обработки.
3. **Высокая скорость работы** — Kafka демонстрирует высокую производительность, особенно при работе с большими потоками данных, и способна поддерживать миллионы сообщений в секунду.
4. **Поддержка различных форматов сообщений** — Kafka поддерживает текстовые, бинарные, Avro и другие популярные форматы, что делает её гибкой для различных сценариев.
5. **Разделение прав доступа** — Kafka поддерживает аутентификацию и авторизацию на уровне потоков с помощью ACL, а также использует SSL для шифрования данных.
6. **Простота эксплуатации** — хотя Kafka требует первоначальной настройки, она имеет широкий набор инструментов для мониторинга и администрирования, таких как Confluent Control Center и поддержка Prometheus.

---